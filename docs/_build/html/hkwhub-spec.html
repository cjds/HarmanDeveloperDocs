<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HKWHub App - Making your Omni speakers connected from any devices (sensors) or services &mdash; Harman Developer 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Harman Developer 1.0 documentation" href="index.html" />
    <link rel="next" title="Trouble Shooting" href="trouble-shooting.html" />
    <link rel="prev" title="Architecture Overview" href="architecture-overview.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="trouble-shooting.html" title="Trouble Shooting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="architecture-overview.html" title="Architecture Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Harman Developer 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="hkwhub-app-making-your-omni-speakers-connected-from-any-devices-sensors-or-services">
<h1>HKWHub App - Making your Omni speakers connected from any devices (sensors) or services<a class="headerlink" href="#hkwhub-app-making-your-omni-speakers-connected-from-any-devices-sensors-or-services" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-of-hwkhub">
<h2>Overview of HWKHub<a class="headerlink" href="#overview-of-hwkhub" title="Permalink to this headline">¶</a></h2>
<p>HKWHub app is an iOS that that uses HKWirelessHD SDK and acts as a Web Hub that handles HTTP requests to control speakers and stream music. It enables any type of &#8220;connected&#8221; devices (like sensors or smart devices) and cloud-based service to connect HK Omni speakers and stream music.</p>
<div class="section" id="use-cases">
<h3>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<img alt="_images/hub-use-cases.png" src="_images/hub-use-cases.png" />
</div>
</div>
<div class="section" id="hkwhub-app">
<h3>HKWHub App<a class="headerlink" href="#hkwhub-app" title="Permalink to this headline">¶</a></h3>
<p>Web Hub handles all the requests from and response to the sensors or the clouds to control audio play with wireless speakers in the house.</p>
<div class="section" id="features">
<h4>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<ul>
<li><dl class="first docutils">
<dt>Supports integration with clouds and sensors as well as smartphones</dt>
<dd><ul class="first last simple">
<li>Receives the requests from clouds (web service) outside or sensors in the house</li>
<li>Translates the requests into HKWirelessHD commands and controls the speakers based on the requests.</li>
<li>Sends response with status of speakers to the cloud if necessary</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Central Music Playlist manager</dt>
<dd><ul class="first last simple">
<li>Maintain user’s playlist from the iOS local music library and streaming services, like MixRadio, etc.</li>
<li>Maintain a collection of sound files used for IoT use cases, like door bell, etc.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>User puts an iOS device on the cradle and run WebHub app. Then the app acts as Web Hub. (AppleTV can be a nice iOS device for WebHub.)</li>
</ul>
<div class="figure">
<img alt="_images/hub-app.png" src="_images/hub-app.png" />
</div>
</div>
</div>
<div class="section" id="overall-architecture">
<h3>Overall Architecture<a class="headerlink" href="#overall-architecture" title="Permalink to this headline">¶</a></h3>
<p>Web Hub handles all the requests from and response to the sensors or the clouds to control audio play with wireless speakers in the house.</p>
<div class="figure">
<img alt="_images/architecture1.png" src="_images/architecture1.png" />
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="session-management">
<h2>Session Management<a class="headerlink" href="#session-management" title="Permalink to this headline">¶</a></h2>
<p>Since the HKWHub app should be able to handle REST HTTP requests from more than on clients at the same time, the HKWHub app manages the requests with session information associated with the priority when the session is initialized.</p>
<p>The following is the policy of the session management:</p>
<div class="section" id="session-creation">
<h3>Session Creation<a class="headerlink" href="#session-creation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>When a client wants to access speakers through the HKWHub app, it must create a session first. (Use <code class="docutils literal"><span class="pre">init_session</span></code> command.)</li>
<li>When a client initializes session, it also sets the priority of the session (using Priority=&lt;priority value&gt; parameter).</li>
</ul>
</div>
<div class="section" id="priority-of-session">
<h3>Priority of Session<a class="headerlink" href="#priority-of-session" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Each session is associated with a priority value which will be used to determine which request can override the current on-going playback session.</p>
</li>
<li><dl class="first docutils">
<dt>The priority value is specified as parameter (Priority) when the client calls <code class="docutils literal"><span class="pre">init_session</span></code>.</dt>
<dd><ul class="first last simple">
<li>If the command does not specify the Priority parameter, 100 is set as default value.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>If the priority of the session of a new playback request (e.g. <code class="docutils literal"><span class="pre">play_hub_media</span></code>, and so on) is greater than or equal to the priority of the current session, then it interrupts the current playback session.</dt>
<dd><ul class="first last simple">
<li>The playback status of the interrupted session becomes <code class="docutils literal"><span class="pre">PlayerStateInterrupted</span></code>. (see the related API in the next section)</li>
<li>Once a session is overridden by a higher priority playback request, then the session is no longer valid. (the session is closed.)</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The following diagrams show how HKWHub app handles incoming playback request based on the session priorities.</p>
<div class="figure">
<img alt="Session management flow diagram" src="_images/session-management.png" />
</div>
</div>
<div class="section" id="session-timeout">
<h3>Session Timeout<a class="headerlink" href="#session-timeout" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A session becomes expired and invalid when about 60 minutes is passed since the last command was received.</li>
<li>All requests with expired session will be denied and &#8220;SessionNotFound&#8221; error returns.</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="rest-api-specification">
<h2>REST API Specification<a class="headerlink" href="#rest-api-specification" title="Permalink to this headline">¶</a></h2>
<p>This specification describes the REST API for controlling HKWHub app remotely to control HK Omni speakers and stream audio to the speakers.</p>
<p>All the APIS are in REST API protocol.</p>
<div class="section" id="id1">
<h3>Session Management<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="start-session">
<h4>Start Session<a class="headerlink" href="#start-session" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/init_session?Priority=&lt;priority value&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns a unique session id</li>
<li>The session id will be used for upcoming requests.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/init_session?Priority=100</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;SessionID&quot;</span> <span class="p">:</span> <span class="s2">&quot;1000&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="close-session">
<h4>Close Session<a class="headerlink" href="#close-session" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/close_session?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true or false indicating success or failure</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/close_session?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span> <span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="device-management">
<h3>Device Management<a class="headerlink" href="#device-management" title="Permalink to this headline">¶</a></h3>
<div class="section" id="get-device-cound">
<h4>Get device cound<a class="headerlink" href="#get-device-cound" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/device_count?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns the number of devices connected to the network</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/device_count?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;DeviceCount&quot;</span><span class="p">:</span><span class="s2">&quot;2&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-list-of-devices-and-their-information">
<h4>Get the list of Devices and their information<a class="headerlink" href="#get-the-list-of-devices-and-their-information" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/device_list?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns the list of devices with all the device information</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/device_list?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;DeviceList&quot;</span><span class="p">:</span>
        <span class="p">[{</span><span class="nt">&quot;GroupName&quot;</span><span class="p">:</span><span class="s2">&quot;Bathroom&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Role&quot;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span>
        <span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="s2">&quot;b0:38:29:1b:36:1f&quot;</span><span class="p">,</span>
        <span class="nt">&quot;WifiSignalStrength&quot;</span><span class="p">:</span><span class="mi">-47</span><span class="p">,</span>
        <span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="mi">44055</span><span class="p">,</span>
        <span class="nt">&quot;Active&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;DeviceName&quot;</span><span class="p">:</span><span class="s2">&quot;Adapt1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="s2">&quot;0.1.6.2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ModelName&quot;</span><span class="p">:</span><span class="s2">&quot;Omni Adapt&quot;</span><span class="p">,</span>
        <span class="nt">&quot;IPAddress&quot;</span><span class="p">:</span><span class="s2">&quot;192.168.1.40&quot;</span><span class="p">,</span>
        <span class="nt">&quot;GroupID&quot;</span><span class="p">:</span><span class="s2">&quot;3431724438&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Volume&quot;</span><span class="p">:</span><span class="mi">47</span><span class="p">,</span>
        <span class="nt">&quot;IsPlaying&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;DeviceID&quot;</span><span class="p">:</span><span class="s2">&quot;34317244381360&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span><span class="nt">&quot;GroupName&quot;</span><span class="p">:</span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Role&quot;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span>
        <span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="s2">&quot;b0:38:29:1b:9e:75&quot;</span><span class="p">,</span>
        <span class="nt">&quot;WifiSignalStrength&quot;</span><span class="p">:</span><span class="mi">-53</span><span class="p">,</span>
        <span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="mi">44055</span><span class="p">,</span>
        <span class="nt">&quot;Active&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;DeviceName&quot;</span><span class="p">:</span><span class="s2">&quot;Adapt&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="s2">&quot;0.1.6.2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ModelName&quot;</span><span class="p">:</span><span class="s2">&quot;Omni Adapt&quot;</span><span class="p">,</span>
        <span class="nt">&quot;IPAddress&quot;</span><span class="p">:</span><span class="s2">&quot;192.168.1.39&quot;</span><span class="p">,</span>
        <span class="nt">&quot;GroupID&quot;</span><span class="p">:</span><span class="s2">&quot;1293219209&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Volume&quot;</span><span class="p">:</span><span class="mi">47</span><span class="p">,</span>
        <span class="nt">&quot;IsPlaying&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;DeviceID&quot;</span><span class="p">:</span><span class="s2">&quot;129321920968880&quot;</span>
        <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-device-information">
<h4>Get the Device Information<a class="headerlink" href="#get-the-device-information" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/device_info?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns the information of the device</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/device_info?SessionID=1000&amp;DeviceID=129321920968880</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;GroupName&quot;</span><span class="p">:</span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span>
<span class="nt">&quot;Role&quot;</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span>
<span class="nt">&quot;MacAddress&quot;</span><span class="p">:</span><span class="s2">&quot;b0:38:29:1b:9e:75&quot;</span><span class="p">,</span>
<span class="nt">&quot;WifiSignalStrength&quot;</span><span class="p">:</span><span class="mi">-52</span><span class="p">,</span>
<span class="nt">&quot;Port&quot;</span><span class="p">:</span><span class="mi">44055</span><span class="p">,</span>
<span class="nt">&quot;Active&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="nt">&quot;DeviceName&quot;</span><span class="p">:</span><span class="s2">&quot;Adapt&quot;</span><span class="p">,</span>
<span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="s2">&quot;0.1.6.2&quot;</span><span class="p">,</span>
<span class="nt">&quot;ModelName&quot;</span><span class="p">:</span><span class="s2">&quot;Omni Adapt&quot;</span><span class="p">,</span>
<span class="nt">&quot;IPAddress&quot;</span><span class="p">:</span><span class="s2">&quot;192.168.1.39&quot;</span><span class="p">,</span>
<span class="nt">&quot;GroupID&quot;</span><span class="p">:</span><span class="s2">&quot;1293219209&quot;</span><span class="p">,</span>
<span class="nt">&quot;Volume&quot;</span><span class="p">:</span><span class="mi">47</span><span class="p">,</span>
<span class="nt">&quot;IsPlaying&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
<span class="nt">&quot;DeviceID&quot;</span><span class="p">:</span><span class="s2">&quot;129321920968880&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="add-a-device-to-session">
<h4>Add a Device to Session<a class="headerlink" href="#add-a-device-to-session" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/add_device_tosession?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true or false</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/add_device_to_session?SessionID=1000&amp;DeviceID=129321920968880</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-a-device-from-session">
<h4>Remove a Device from Session<a class="headerlink" href="#remove-a-device-from-session" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/remove_device_from_session?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true or false</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/remove_device_from_session?SessionID=1000&amp;DeviceID=129321920968880</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="remote-hub-media-playback-management">
<h3>Remote (Hub) Media Playback Management<a class="headerlink" href="#remote-hub-media-playback-management" title="Permalink to this headline">¶</a></h3>
<div class="section" id="get-the-list-of-stored-media">
<h4>Get the list of stored media<a class="headerlink" href="#get-the-list-of-stored-media" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/media_list?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns JSON of the list of store media in the HKWHub app.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/media_list?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;MediaList&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nt">&quot;PersistentID&quot;</span><span class="p">:</span><span class="s2">&quot;7387446959931482519&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Title&quot;</span><span class="p">:</span><span class="s2">&quot;I Will Run To You&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Artist&quot;</span><span class="p">:</span><span class="s2">&quot;Hillsong&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Duration&quot;</span><span class="p">:</span><span class="mi">436</span><span class="p">,</span>
        <span class="nt">&quot;AlbumTitle&quot;</span><span class="p">:</span><span class="s2">&quot;Simply Worship&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span><span class="nt">&quot;PersistentID&quot;</span><span class="p">:</span><span class="s2">&quot;5829171347867182746&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Title&quot;</span><span class="p">:</span><span class="s2">&quot;I&#39;m Yours [ORIGINAL DEMO]&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Artist&quot;</span><span class="p">:</span><span class="s2">&quot;Jason Mraz&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Duration&quot;</span><span class="p">:</span><span class="mi">257</span><span class="p">,</span>
        <span class="nt">&quot;AlbumTitle&quot;</span><span class="p">:</span><span class="s2">&quot;Wordplay [SINGLE EP]&quot;</span><span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
</div>
<div class="section" id="play-a-song-in-th-remote-hub">
<h4>Play a Song in th Remote Hub<a class="headerlink" href="#play-a-song-in-th-remote-hub" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/play_hub_media?SessionID=&lt;session id&gt;&amp;PersistentID=&lt;persistent id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Play a song stored in the hub, and then return true or false.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/play_hub_media?SessionID=1000&amp;PersistentID=7387446959931482519</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="pause-the-current-playback">
<h4>Pause the Current Playback<a class="headerlink" href="#pause-the-current-playback" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/pause_play?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Pause the current playback, and then return true or false.</li>
<li>It can resume the current playback by calling <code class="docutils literal"><span class="pre">resume_hub_media</span></code> if and only if the playback is playing hub media.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/pause_play?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="resume-the-current-playback-with-hub-media">
<h4>Resume the Current Playback with Hub Media<a class="headerlink" href="#resume-the-current-playback-with-hub-media" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/resume_hub_media?SessionID=&lt;session id&gt;&amp;PersistentID=&lt;persistent id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Resume the current playback with Hub Media, and then return true or false.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/resume_hub_media?SessionID=1000&amp;PersistentID=7387446959931482519</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="stop-the-current-playback">
<h4>Stop the Current Playback<a class="headerlink" href="#stop-the-current-playback" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/stop_play?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Stop the current playback with Hub Media, and then return true or false.</li>
<li>If the playback has stopped, then it cannot resume.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/stop_play?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-the-playback-status-current-playback-state-and-elapsed-time">
<h4>Get the Playback Status (Current Playback State and Elapsed Time)<a class="headerlink" href="#get-the-playback-status-current-playback-state-and-elapsed-time" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/playback_status?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last">
<li><p class="first">It returns the current state of the playback and also return the elapsed time (in second) of the playback.</p>
</li>
<li><p class="first">If it is not playing, then the elapsed time is (-1)</p>
</li>
<li><dl class="first docutils">
<dt>The following is the value of each playback state:</dt>
<dd><ul class="first last">
<li><p class="first">PlayerStateInitialized : Play is ready</p>
</li>
<li><p class="first">PlayerStatePlaying : Now playing audio</p>
</li>
<li><p class="first">PlayerStatePaused : Playing is paused. It can resume.</p>
</li>
<li><p class="first">PlayerStateStopped : Playing is stopped. It cannot resume.</p>
</li>
<li><dl class="first docutils">
<dt>PlayerStateInterrupted <span class="classifier-delimiter">:</span> <span class="classifier">The current playback was interrupted by some reasons.</span></dt>
<dd><ul class="first last simple">
<li>For example, if other client overrides the current playback by starting a new session and play, then the on-going playback is interrupted (stopped).</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Note that if the playback has stopped, then it cannot resume.</p>
</li>
<li><p class="first">Developers need to check the playback status during the playback to handle any possible exceptional cases like interruption or errors. We recommedn to call this API every second.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/playback_status?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;PlaybackState&quot;</span><span class="p">:</span><span class="s2">&quot;PlayerStatePlaying&quot;</span><span class="p">,</span>
 <span class="nt">&quot;TimeElapsed&quot;</span><span class="p">:</span><span class="s2">&quot;15&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="check-if-the-hub-is-playing-audio">
<h4>Check if the Hub is playing audio<a class="headerlink" href="#check-if-the-hub-is-playing-audio" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/is_playing?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true (playing) or false (not playing)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/is_playing?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;IsPlaying&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="volume-control">
<h3>Volume Control<a class="headerlink" href="#volume-control" title="Permalink to this headline">¶</a></h3>
<div class="section" id="get-volume-for-all-devices">
<h4>Get Volume for all Devices<a class="headerlink" href="#get-volume-for-all-devices" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/get_volume?SessionID=&lt;session id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns the average volume of all devices.</li>
<li>The range of volume is 0 (muted) to 50 (max)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/get_volume?SessionID=1000</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Volume&quot;</span><span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-volume-for-a-particular-device">
<h4>Get Volume for a particular device<a class="headerlink" href="#get-volume-for-a-particular-device" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/get_volume_device?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns the  volume of a particular device</li>
<li>The range of volume is 0 (muted) to 50 (max)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/get_volume_device?SessionID=1000&amp;DeviceID=1234567</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Volume&quot;</span><span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="set-volume-for-all-devices">
<h4>Set Volume for all devices<a class="headerlink" href="#set-volume-for-all-devices" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/set_volume_device?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true or false</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/get_volume_device?SessionID=1000&amp;Volume=10</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="set-volume-for-a-particular-device">
<h4>Set Volume for a particular device<a class="headerlink" href="#set-volume-for-a-particular-device" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">API: GET /v1/set_volume_device?SessionID=&lt;session id&gt;&amp;DeviceID=&lt;device id&gt;&amp;Volume=&lt;volume&gt;</p>
</li>
<li><dl class="first docutils">
<dt>Response</dt>
<dd><ul class="first last simple">
<li>Returns true or false</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Example:</dt>
<dd><ul class="first last simple">
<li>Request: <code class="docutils literal"><span class="pre">http://192.168.1.10/v1/get_volume_device?SessionID=1000&amp;DeviceID=1234567&amp;Volume=10</span></code></li>
<li>Response:</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-json"><div class="highlight"><pre><span class="p">{</span><span class="nt">&quot;Result&quot;</span><span class="p">:</span><span class="s2">&quot;true&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/HarmanDeveloperLogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">HKWHub App - Making your Omni speakers connected from any devices (sensors) or services</a><ul>
<li><a class="reference internal" href="#overview-of-hwkhub">Overview of HWKHub</a><ul>
<li><a class="reference internal" href="#use-cases">Use Cases</a></li>
<li><a class="reference internal" href="#hkwhub-app">HKWHub App</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#overall-architecture">Overall Architecture</a></li>
</ul>
</li>
<li><a class="reference internal" href="#session-management">Session Management</a><ul>
<li><a class="reference internal" href="#session-creation">Session Creation</a></li>
<li><a class="reference internal" href="#priority-of-session">Priority of Session</a></li>
<li><a class="reference internal" href="#session-timeout">Session Timeout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rest-api-specification">REST API Specification</a><ul>
<li><a class="reference internal" href="#id1">Session Management</a><ul>
<li><a class="reference internal" href="#start-session">Start Session</a></li>
<li><a class="reference internal" href="#close-session">Close Session</a></li>
</ul>
</li>
<li><a class="reference internal" href="#device-management">Device Management</a><ul>
<li><a class="reference internal" href="#get-device-cound">Get device cound</a></li>
<li><a class="reference internal" href="#get-the-list-of-devices-and-their-information">Get the list of Devices and their information</a></li>
<li><a class="reference internal" href="#get-the-device-information">Get the Device Information</a></li>
<li><a class="reference internal" href="#add-a-device-to-session">Add a Device to Session</a></li>
<li><a class="reference internal" href="#remove-a-device-from-session">Remove a Device from Session</a></li>
</ul>
</li>
<li><a class="reference internal" href="#remote-hub-media-playback-management">Remote (Hub) Media Playback Management</a><ul>
<li><a class="reference internal" href="#get-the-list-of-stored-media">Get the list of stored media</a></li>
<li><a class="reference internal" href="#play-a-song-in-th-remote-hub">Play a Song in th Remote Hub</a></li>
<li><a class="reference internal" href="#pause-the-current-playback">Pause the Current Playback</a></li>
<li><a class="reference internal" href="#resume-the-current-playback-with-hub-media">Resume the Current Playback with Hub Media</a></li>
<li><a class="reference internal" href="#stop-the-current-playback">Stop the Current Playback</a></li>
<li><a class="reference internal" href="#get-the-playback-status-current-playback-state-and-elapsed-time">Get the Playback Status (Current Playback State and Elapsed Time)</a></li>
<li><a class="reference internal" href="#check-if-the-hub-is-playing-audio">Check if the Hub is playing audio</a></li>
</ul>
</li>
<li><a class="reference internal" href="#volume-control">Volume Control</a><ul>
<li><a class="reference internal" href="#get-volume-for-all-devices">Get Volume for all Devices</a></li>
<li><a class="reference internal" href="#get-volume-for-a-particular-device">Get Volume for a particular device</a></li>
<li><a class="reference internal" href="#set-volume-for-all-devices">Set Volume for all devices</a></li>
<li><a class="reference internal" href="#set-volume-for-a-particular-device">Set Volume for a particular device</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="architecture-overview.html"
                        title="previous chapter">Architecture Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="trouble-shooting.html"
                        title="next chapter">Trouble Shooting</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hkwhub-spec.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="trouble-shooting.html" title="Trouble Shooting"
             >next</a> |</li>
        <li class="right" >
          <a href="architecture-overview.html" title="Architecture Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Harman Developer 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Harman International.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>